# Hegel
<p align="center">
  <a href="#" target="blank"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjE0IiBoZWlnaHQ9IjcyIiB2aWV3Qm94PSIwIDAgMjE0IDcyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNODIgMTZIOTAuMzg2NVYyOS4yMTM0QzkyLjMzNDMgMjguNDI0OSA5NC43NTg3IDI3LjgwNzIgOTcuNTc0OSAyNy44MDcyQzEwNS4zNjIgMjcuODA3MiAxMDcuNzU4IDMyLjgyNTMgMTA3Ljc1OCAzOS4zMTkzVjUzLjc4MzFIOTkuMzcyVjM4LjcyODlDOTkuMzcyIDM1LjE4NjcgOTYuNjc2MyAzNC4zMDEyIDkzLjY4MTIgMzQuNTk2NEM5Mi42NzYxIDM0LjY5NTQgOTEuNTAyNCAzNS4wOTM2IDkwLjM4NjUgMzUuNTc5VjUzLjc4MzFIODJWMTZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTkxLjMyNCAxNkgxOTkuNzFWNDQuNjMyNUMxOTkuNzEgNDUuODEzMyAyMDAuMzA5IDQ2LjQwMzYgMjAxLjIwOCA0Ni40MDM2QzIwMi41NTYgNDYuNDAzNiAyMDMuNjA0IDQ1LjUxODEgMjAzLjYwNCA0NS41MTgxTDIwNiA1MS43MTY5QzIwNiA1MS43MTY5IDIwNC41MDIgNTQuMzczNSAxOTkuNDExIDU0LjM3MzVDMTkzLjcyIDU0LjM3MzUgMTkxLjMyNCA1MC4yNDEgMTkxLjMyNCA0NC42MzI1VjE2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNzYuOTQ3IDQ3LjI4OTJDMTgwLjI0MiA0Ny4yODkyIDE4Mi42MjkgNDUuNTE4MSAxODIuNjI5IDQ1LjUxODFMMTg2LjgzMSA1MC4yNDFDMTg1LjkzMiA1MS40MjE3IDE4MS43MzkgNTQuMzczNSAxNzYuMzQ4IDU0LjM3MzVDMTY4LjkwNCA1NC4zNzM1IDE2My40NjkgNDguNDI2NCAxNjMuNDY5IDQxLjA5MDRDMTYzLjQ2OSAzMy43NTQzIDE2OC45MDQgMjcuODA3MiAxNzYuMzQ4IDI3LjgwNzJDMTgzLjc5MiAyNy44MDcyIDE4OC42MjggMzMuNzU0MyAxODguNjI4IDQxLjA5MDRDMTg4LjYyOCA0Mi41NjYzIDE4OC41MzQgNDMuMTU2NiAxODguNTM0IDQzLjE1NjZIMTcxLjQ1MkMxNzIuMDEzIDQ1LjgyMzYgMTczLjc5MiA0Ny4yODkyIDE3Ni45NDcgNDcuMjg5MlpNMTcxLjU3MiAzOC40MzM3QzE3Mi4xNzkgMzYuMDc2NSAxNzMuNjkgMzQuMzAxMiAxNzYuMzQ4IDM0LjMwMTJDMTc5LjIyNyAzNC4zMDEyIDE4MC42MzIgMzYuMDc2NSAxODEuMTY5IDM4LjQzMzdIMTcxLjU3MloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTI5LjMxNSA0NS41MTgxQzEyOS4zMTUgNDUuNTE4MSAxMjYuOTI4IDQ3LjI4OTIgMTIzLjYzMyA0Ny4yODkyQzEyMC40NzggNDcuMjg5MiAxMTguNjk5IDQ1LjgyMzYgMTE4LjEzOCA0My4xNTY2SDEzNS4yMkMxMzUuMjIgNDMuMTU2NiAxMzUuMzE0IDQyLjU2NjMgMTM1LjMxNCA0MS4wOTA0QzEzNS4zMTQgMzMuNzU0MyAxMzAuNDc4IDI3LjgwNzIgMTIzLjAzNCAyNy44MDcyQzExNS41OSAyNy44MDcyIDExMC4xNTUgMzMuNzU0MyAxMTAuMTU1IDQxLjA5MDRDMTEwLjE1NSA0OC40MjY0IDExNS41OSA1NC4zNzM1IDEyMy4wMzQgNTQuMzczNUMxMjguNDI1IDU0LjM3MzUgMTMyLjYxOCA1MS40MjE3IDEzMy41MTcgNTAuMjQxTDEyOS4zMTUgNDUuNTE4MVpNMTIzLjAzNCAzNC4zMDEyQzEyMC4zNzYgMzQuMzAxMiAxMTguODY1IDM2LjA3NjUgMTE4LjI1OCAzOC40MzM3SDEyNy44NTVDMTI3LjMxOCAzNi4wNzY1IDEyNS45MTMgMzQuMzAxMiAxMjMuMDM0IDM0LjMwMTJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE0OS4zOTEgNDYuMTA4NEMxNTUuODQzIDQ2LjEwODQgMTYwLjQ3MyA0Mi4zMzc2IDE2MC40NzMgMzYuOTU3OEMxNjAuNDczIDM2LjA1OTkgMTYwLjM0NCAzNS4yMDY4IDE2MC4wOTkgMzQuNDA4NUwxNjMuNjA5IDMxLjQwNzlMMTU5LjQwMSAyNi42MjY1TDE1Ni4wNyAyOS40NzM3QzE1NC4yNTQgMjguNDA4NiAxNTEuOTY4IDI3LjgwNzIgMTQ5LjM5MSAyNy44MDcyQzE0Mi45NCAyNy44MDcyIDEzOC4zMDkgMzEuNTc4IDEzOC4zMDkgMzYuOTU3OEMxMzguMzA5IDQwLjIyNjUgMTQwLjAxOSA0Mi45MDEyIDE0Mi44MDcgNDQuNDk3QzE0Mi41OTQgNDUuMzU3NCAxNDIuNTA1IDQ2LjIxNjQgMTQyLjUwNSA0Ni45OTM3QzE0Mi41MDUgNDcuNTg1NyAxNDIuNTU2IDQ4LjIyNTIgMTQyLjY3NSA0OC44NzY2QzEzOC40NTQgNTAuMjA5MyAxMzUuOTEzIDUyLjgyOTMgMTM1LjkxMyA1Ni40Mzk4QzEzNS45MTMgNjEuODE5NSAxNDEuNTU0IDY1IDE0OS45OSA2NUMxNTguNDI3IDY1IDE2NC4wNjggNjEuODE5NSAxNjQuMDY4IDU2LjQzOThDMTY0LjA2OCA1MS4wNiAxNTguNDI3IDQ3Ljg3OTUgMTQ5Ljk5IDQ3Ljg3OTVDMTQ5LjUxMSA0Ny44Nzk1IDE0OS4wNDEgNDcuODg5OCAxNDguNTgxIDQ3LjkxMDFDMTQ4LjUyOSA0Ny42NTExIDE0OC40OTUgNDcuMzQ2NiAxNDguNDk1IDQ2Ljk5NDNDMTQ4LjQ5NSA0Ni42NDY0IDE0OC41MjggNDYuMzQ1MSAxNDguNTc5IDQ2LjA4ODJDMTQ4Ljg0NiA0Ni4xMDE2IDE0OS4xMTcgNDYuMTA4NCAxNDkuMzkxIDQ2LjEwODRaTTE1My4yODUgMzYuOTU3OEMxNTMuMjg1IDM0Ljg5MTYgMTUxLjQ4OCAzNC4zMDEyIDE0OS4zOTEgMzQuMzAxMkMxNDcuMjk1IDM0LjMwMTIgMTQ1LjQ5OCAzNC44OTE2IDE0NS40OTggMzYuOTU3OEMxNDUuNDk4IDM5LjAyNDEgMTQ3LjI5NSAzOS42MTQ1IDE0OS4zOTEgMzkuNjE0NUMxNTEuNDg4IDM5LjYxNDUgMTUzLjI4NSAzOS4wMjQxIDE1My4yODUgMzYuOTU3OFpNMTQ5Ljk5IDU0LjM3MzVDMTU1LjA4MiA1NC4zNzM1IDE1Ni43OTQgNTQuOTYzOSAxNTYuNzk0IDU2LjQzOThDMTU2Ljc5NCA1Ny45MTU3IDE1NS4wODIgNTguNTA2IDE0OS45OSA1OC41MDZDMTQ0Ljg5OSA1OC41MDYgMTQzLjE4NyA1Ny45MTU3IDE0My4xODcgNTYuNDM5OEMxNDMuMTg3IDU0Ljk2MzkgMTQ0Ljg5OSA1NC4zNzM1IDE0OS45OSA1NC4zNzM1WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTUwIDU0TDUwIDE4TDQyIDE4TDQyIDU0TDUwIDU0WiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyKSIvPgo8cGF0aCBkPSJNMzAgNTRMMzAgMThMMjIgMThMMjIgNTRMMzAgNTRaIiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXIpIi8+CjxwYXRoIGQ9Ik02IDU0QzYgNTcuMzEzNyA4LjY4NjMgNjAgMTIgNjBIMzBWNTRIMTVDMTQuNDQ3NyA1NCAxNCA1My41NTIzIDE0IDUzVjE5QzE0IDE4LjQ0NzcgMTQuNDQ3NyAxOCAxNSAxOEgzMFYxMkgxMkM4LjY4NjI5IDEyIDYgMTQuNjg2MyA2IDE4TDYgNTRaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNDIgMTJINjBDNjMuMzEzNyAxMiA2NiAxNC42ODYzIDY2IDE4VjU0QzY2IDU3LjMxMzcgNjMuMzEzNyA2MCA2MCA2MEg0MlY1NEg1N0M1Ny41NTIzIDU0IDU4IDUzLjU1MjMgNTggNTNWMTlDNTggMTguNDQ3NyA1Ny41NTIzIDE4IDU3IDE4SDQyVjEyWiIgZmlsbD0id2hpdGUiLz4KPHJlY3QgeD0iMjIiIHk9IjMzIiB3aWR0aD0iMjgiIGhlaWdodD0iNiIgZmlsbD0id2hpdGUiLz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhciIgeDE9IjQ2IiB5MT0iMTgiIHgyPSI0NiIgeTI9IjU0IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiM1MEFCRkYiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjQUQwMEZGIi8+CjwvbGluZWFyR3JhZGllbnQ+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQxX2xpbmVhciIgeDE9IjI2IiB5MT0iMTgiIHgyPSIyNiIgeTI9IjU0IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiM1MEFCRkYiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjQUQwMEZGIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==" width="120" alt="Hegel Logo" /></a>
</p>

Hegel is a static type checker for JavaScript with strong typings, high inference level and a lot of additional goodies.
To read more about Hegel, check out [URL WILL BE ADDED SOON].

The main features:

1. Soundness

```typescript
const numbers: Array<number> = [];
// Error: Type "Array<number>" is incompatible with type "Array<number | string>"
const numbersOrStrings: Array<string | number> = numbers;
// Error: Property "toLocaleString" does not exist in "Number | undefined"
const localeString = numbers[1].toLocaleString();
```

2. Strong Type System

```typescript
function provideNumber(providedData: ?number) {
  // Error: Type "number | undefined" is incompatible with type "boolean"
  if (!providedData) {
    // Oops you lost "0"
    throw new TypeError("Number was not provided");
  }
  return providedData;
}
```

3. High level type Inference

```typescript
// Inferenced as "<_q, _c>((_c) => _q) => (_c) => Promise<_q>"
const promisify = fn => arg => Promise.resolve(fn(arg));
// Inferenced as "<_c>(_c) => Promise<_c>"
const id = promisify(x => x);
// Inferenced as "Promise<string>"
const upperStr = id("It will be inferenced").then(str => str.toUpperCase());
// Inferenced as "Promise<number>"
const twicedNum = id(42).then(num => num ** 2);
```

4. Typed Errors

```typescript
// Inferenced type "(unknown) => undefined throws TypeError"
function assertNumber(arg) {
  if (typeof arg !== "number") {
    throw new TypeError("Given arg is not a number");
  }
}
// Inferenced type "(unknown) => undefined throws ReferenceError | TypeError"
function assertField(obj) {
  if (typeof obj === "object" && obj !== null && "value" in obj) {
    assertNumber(obj.value)
  }
  throw new ReferenceError('"value" property doesn\'t exist');
}
try {
  assertField({});
} catch(error) {
  // error type is "ReferenceError | TypeError | unknown"
}
```

## Installation

You can install Hegel CLI using npm or yarn:

```bash
$ npm install -g @hegel/cli
# or
$ yarn global add @hegel/cli
```

Or install localy only for your project:

```bash
$ npm install -D @hegel/cli
# or
$ yarn add -D @hegel/cli
```

> Hegel was developed for current LTS version of [Node.js (12.16.1)](https://nodejs.org/en/). So, you need to have at least 12 version.

## Project Overview

There are few separated packages in Hegel project: 

- The main logic of analysis is placed in [@hegel/core](https://github.com/JSMonk/hegel/tree/master/packages/core)
- CLI interfaces is placed in [@hegel/cli](https://github.com/JSMonk/hegel/tree/master/packages/cli)
- The main typings (typings for browser or node.js environment and for default global environment) are placed in [@hegel/typings](https://github.com/JSMonk/hegel/tree/master/packages/typings)
- Language Server (which currently work with VS Code) is placed in [@hegel/language-server](https://github.com/JSMonk/hegel/tree/master/packages/language-server)
- Documentation is placed in [@hegel/docs](https://github.com/JSMonk/hegel/tree/master/packages/docs)

## Building Hegel from source

Hegel is written in JavaScript (Node.js 12 is required). Ensure that you have [Git](https://git-scm.com/downloads) and [Node.js 12](https://nodejs.org/en/) installed.

1. Clone the repo:

```sh
$ git clone git@github.com:JSMonk/hegel.git
```

2. Change to the @hegel/cli directory:

```sh
$ cd hegel/packages/cli
```

3. Install dependencies

```sh
$ npm i
```

4. That's all. You can build @hegel/cli:
```sh
npm run build
```
The result code will be compiled into build directory.
And you can debug it with default Node.js debugger:

```sh
node --inspect-brk ./build/index.js
```

## Tests

Currently all tests are written for [@hegel/core](https://github.com/JSMonk/hegel/tree/master/packages/core), so, if you will change code inside [@hegel/core](https://github.com/JSMonk/hegel/tree/master/packages/core) package, you can run tests by:

```sh
npm run test
```
 
## License

Hegel is MIT-licensed ([LICENSE](https://github.com/JSMonk/hegel/blob/master/LICENSE)). 
